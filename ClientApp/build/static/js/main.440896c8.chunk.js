(this.webpackJsonpsvplants=this.webpackJsonpsvplants||[]).push([[0],{31:function(e,t,n){e.exports=n(67)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},63:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),l=n(30);n(36);var c=function(){return r.a.createElement("footer",{className:"sitefooter"},r.a.createElement("p",null,"Hope you liked our SVPlants System"))};n(37);var s=function(){return r.a.createElement("header",{className:"siteheader"},r.a.createElement("div",{className:"site-title"},"SVPlants"),r.a.createElement("div",{className:"site-description"},"We don't want your Plants to die."))},u=n(16),m=(n(38),function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",null))});n(39);var d=function(){return r.a.createElement("div",{className:"page-header"},r.a.createElement("h2",{className:"page-header__heading"},"Water the plants"),r.a.createElement("p",null,"You can ",r.a.createElement("em",null,"individually")," fill the water by going on each plant. If the plants aren't watered for more than ",r.a.createElement("em",null,"six hours")," you are notified with red alert error msg and green background color on that plant."))},g=(n(40),n(8)),E=n.n(g),f=n(12);var h=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!0),l=Object(u.a)(i,2),c=l[0],s=l[1],g=(Object(f.b)(),new Date);function h(){E.a.get("api/Plants/GetPlants").then((function(e){var t=e.data;o(t),s(!1)}))}return Object(a.useEffect)((function(){h()}),[g]),r.a.createElement("main",{className:"maincontent"},r.a.createElement(d,null),c?r.a.createElement(m,null):r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("article",{key:e.id,className:(!e.wateringStatus&&(g.getTime()-e.lastWateringSeason)/36e5)>=6?"plant_needWater":""},r.a.createElement("div",{className:"plants"},r.a.createElement("figure",{className:"plant__image"},r.a.createElement("img",{src:"./Plant.svg",alt:"Plant",loading:"lazy"})),r.a.createElement("div",{className:"plant__info"},r.a.createElement("h1",null,e.name),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Watering Status:")," ",r.a.createElement("span",null," ",e.wateringStatus?"Watering":"Not Watering")),r.a.createElement("li",null,r.a.createElement("b",null,"Last Watering Session:"),r.a.createElement("span",null,e.lastWateringSeason?(g.getTime()-e.lastWateringSeason)/6e4>=1?(g.getTime()-e.lastWateringSeason)/36e5>=1?" ".concat(((g.getTime()-e.lastWateringSeason)/36e5).toFixed(1)," hrs ago"):" ".concat(((g.getTime()-e.lastWateringSeason)/6e4).toFixed(1)," min ago"):" ".concat(((g.getTime()-e.lastWateringSeason)/1e3).toFixed(0)," sec ago"):" ----")),r.a.createElement("li",{className:(!e.wateringStatus&&(g.getTime()-e.lastWateringSeason)/36e5)>=6?"waterPlantMsg":"noMsg"},r.a.createElement("b",null,"URGENTLY NEED WATER"))),r.a.createElement("button",{id:"button_".concat(e.id),onClick:function(){return t=e.id,void E.a.get("api/Plants/SinglePlant/".concat(t)).then((function(e){var n=e.data;"Tap here to Stop Watering Plant"===document.getElementById("button_".concat(t)).innerText?(s(!0),n.wateringStatus=!1,n.wateringEndTiming=g.getTime(),console.log("End Time :"+n.wateringEndTiming/1e3),E.a.put("api/Plants/UpdatePlantWateringStatus/"+t,n).then((function(e){h(),s(!1),e.data.wateringEndTiming/1e3-e.data.wateringStartTiming/1e3<10?(document.getElementById("errMsg_".concat(t)).innerText="Error: In order to water the plant please dont stop watering atleast for 10 seconds",setTimeout((function(){document.getElementById("errMsg_".concat(t)).innerText=""}),5e3)):(document.getElementById("button_".concat(t)).disabled=!0,setTimeout((function(){document.getElementById("button_".concat(t)).disabled=!1}),3e4)),document.getElementById("button_".concat(t)).innerText="Tap here to the Water Plant"}))):(document.getElementById("button_".concat(t)).innerText="Tap here to Stop Watering Plant",s(!0),n.wateringStatus=!0,n.wateringStartTiming=g.getTime(),E.a.put("api/Plants/UpdatePlantWateringStatus/"+t,n).then((function(e){h()}))),s(!1)}));var t}},e.wateringStatus?"Tap here to Stop Watering Plant":"Tap here to the Water Plant"))),r.a.createElement("div",{className:"errMsg",id:"errMsg_".concat(e.id)}))}))))};var p=function(){return r.a.createElement("div",{className:"content"},r.a.createElement(s,null),r.a.createElement(h,null),r.a.createElement(c,null))},v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(63);var b=n(7),T=n(28),S=n(4),W={loading:!1,hasError:!1,error:null,data:[]},_=Object(b.b)({plants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PLANTS_REQUEST":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case"GET_ALL_PLANTS_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,hasError:!1,data:t.payload});case"GET_ALL_PLANTS_ERROR":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,hasError:!0,error:t.payload});default:return e}}}),N=Object(b.c)(_,{},Object(b.a)(T.a)),y=document.getElementsByTagName("base")[0].getAttribute("href"),P=document.getElementById("root");i.a.render(r.a.createElement(f.a,{store:N},r.a.createElement(l.a,{basename:y},r.a.createElement(p,null))),P),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");v?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):w(e)}))}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.440896c8.chunk.js.map